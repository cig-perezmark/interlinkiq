"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],a=!0,i=!1,n=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){i=!0,n=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw n}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function fetchData(){var t,r,a,m;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(fetch("AnalyticsIQ/audit_annual_data.php"));case 3:return t=e.sent,e.next=6,regeneratorRuntime.awrap(t.json());case 6:r=e.sent,console.log(r),a=function(e){var t=_slicedToArray(e.split("/").map(Number),3),r=t[0],a=t[1],i=t[2];return new Date(i,r-1,a)},m=r.map(function(e){function t(e,t){return(a(t)-new Date(e))/864e5}return{reviewed_by:e.reviewed_by.trim(),annual_review_count:parseInt(e.annual_review_count,10),total_audits:parseInt(e.total_audits,10),audit_report_start:new Date(e["Audit Report Date"]),audit_report_duration:t(e["Audit Report Date"],e["Audit Report End Date"]),audit_certificate_start:new Date(e["Audit Certificate Date"]),audit_certificate_duration:t(e["Audit Certificate Date"],e["Audit Certificate End Date"]),audit_corrective_action_start:new Date(e["Audit Corrective Action Date"]),audit_corrective_action_duration:t(e["Audit Corrective Action Date"],e["Audit Corrective Action End Date"]),reviewed_start:new Date(e["Reviewed Date"]),reviewed_duration:t(e["Reviewed Date"],e["Reviewed Due"])}}),am5.ready(function(){var l=am5.Root.new("auditChartdiv123");l.setThemes([am5themes_Animated.new(l)]);var d=l.container.children.push(am5xy.XYChart.new(l,{panX:!1,panY:!1,wheelX:"none",wheelY:"none",layout:l.verticalLayout})),s=d.children.push(am5.Legend.new(l,{centerX:am5.p50,x:am5.p50,marginTop:20})),_=d.xAxes.push(am5xy.CategoryAxis.new(l,{categoryField:"reviewed_by",renderer:am5xy.AxisRendererX.new(l,{cellStartLocation:.1,cellEndLocation:.9,minGridDistance:10}),tooltip:am5.Tooltip.new(l,{})}));_.get("renderer").labels.template.setAll({forceHidden:!0}),_.get("renderer").grid.template.set("forceHidden",!0),_.data.setAll(m);var e=d.yAxes.push(am5xy.ValueAxis.new(l,{renderer:am5xy.AxisRendererY.new(l,{})})),t=d.yAxes.push(am5xy.ValueAxis.new(l,{renderer:am5xy.AxisRendererY.new(l,{opposite:!0}),syncWithAxis:e}));function r(e,t,r,a,i,n,o,u){var c=d.series.push(am5xy.ColumnSeries.new(l,{name:e,xAxis:_,yAxis:u,stacked:a,valueYField:t,openValueYField:i,categoryXField:"reviewed_by",stroke:r,fill:r}));c.columns.template.setAll({tooltipText:"{name}: {valueY}",width:am5.percent(50),tooltipY:0,strokeWidth:0}),n&&c.columns.template.adapters.add("fill",function(e,t){var r=t.dataItem.get("valueY");return r<=30?am5.color(16711680):r<=60?am5.color(16753920):r<=90?am5.color(16766720):am5.color(6018907)}),c.data.setAll(m),c.appear(),o&&s.data.push(c)}r("Audit Report","audit_report_start",am5.color(2903601),!1,null,!1,!0,e),r("Audit Report Duration","audit_report_duration",am5.color(16766720),!0,"audit_report_start",!0,!1,e),r("Audit Certificate","audit_certificate_start",am5.color(4091461),!1,null,!1,!0,e),r("Audit Certificate Duration","audit_certificate_duration",am5.color(4879132),!0,"audit_certificate_start",!0,!1,e),r("Audit Corrective Action","audit_corrective_action_start",am5.color(5345114),!1,null,!1,!0,e),r("Audit Corrective Action Duration","audit_corrective_action_duration",am5.color(8926215),!0,"audit_corrective_action_start",!0,!1,e),r("Reviewed","reviewed_start",am5.color(620905),!1,null,!1,!0,e),r("Reviewed Duration","reviewed_duration",am5.color(3329330),!0,"reviewed_start",!0,!1,e),r("Annual Review","annual_review_count",am5.color(38655),!1,null,!1,!0,t),r("Audit","total_audits",am5.color(8900331),!1,null,!1,!0,t),d.appear(1e3,100),d.children.push(am5.Label.new(l,{text:"Reviewed by: "+m[0].reviewed_by,fontSize:20,centerX:am5.p50,x:am5.p50,marginTop:20,dy:10}))}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 16:case"end":return e.stop()}},null,null,[[0,13]])}fetchData();
//# sourceMappingURL=audit_review_script.min.js.map
